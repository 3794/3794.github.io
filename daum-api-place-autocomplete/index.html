<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>daum-api-place-autocomplete</title>
</head>
<body>
   <input id="pac-input" type="text" style="width: 300px;top:40px;left:30px;position:absolute;">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.js"></script>
   <script src="data.js"></script>
   <script src="app.js"></script>
   <script type="text/javascript">
      // document.getElementById("pac-input").focus()
      
    //   try{
    //      var keyboardEvent = document.createEvent("KeyboardEvent");
    //      keyboardEvent.initKeyboardEvent("keydown", true, true, window, false, false, false, false, 49, 49);
    //      document.getElementById("pac-input").dispatchEvent(keyboardEvent);
    //   }catch(e){
    //      console.log(e)
    //   }
    //    var TAB_KEY = 9;
    // var keyboardEvent = document.createEvent("KeyboardEvent");
    // var initMethod = typeof keyboardEvent.initKeyboardEvent !== 'undefined' ? "initKeyboardEvent" : "initKeyEvent";
    // keyboardEvent[initMethod]("keydown", true, true, window, 0, 0, 0, 0, 0, TAB_KEY);
    // document.dispatchEvent(keyboardEvent);

//focus 'first' input
// document.getElementById('pac-input').focus();

//focus 'second' input after 3 seconds
// setTimeout(function(){
    // document.getElementById('second').focus();
    // document.getElementById('done').innerHTML = 'Done!';
// }, 3000);
            
      var a = autocomplete(document.getElementById('pac-input'))

      a.addListener('place_changed', function(e) {
         $('body').append(JSON.stringify(e.item))
      })

      a.request = function(param, cb){
         $.ajax({
            url: "https://apis.daum.net/local/v1/search/keyword.json?apikey=06cbe9ae5d3e146a413a8114b8c6bd53&query=" + param ,
            dataType: 'jsonp'

         }).done(function(data){
            cb(data.channel.item)
         })
      }



      setTimeout(function() {
      var input = document.getElementById("pac-input")
    input.value = "";
    var evt = document.createEvent("TextEvent");
    evt.initTextEvent ("textInput", true, true, window, "11", 0, "en-US");
    input.focus();
    input.dispatchEvent(evt);
 }, 2000)

      setTimeout(function () {
         document.getElementById("pac-input").focus()
    $("input-search").focus();
    Podium = {};
    Podium.keydown = function(k) {
        var oEvent = document.createEvent('KeyboardEvent');

        // Chromium Hack
        Object.defineProperty(oEvent, 'keyCode', {
            get : function() {
                return this.keyCodeVal;
            }
        });
        Object.defineProperty(oEvent, 'which', {
            get : function() {
                return this.keyCodeVal;
            }
        });

        if (oEvent.initKeyboardEvent) {
            oEvent.initKeyboardEvent("keydown", true, true, document.defaultView, false, false, false, false, k, k);
        } else {
            oEvent.initKeyEvent("keydown", true, true, document.defaultView, false, false, false, false, k, 0);
        }

        oEvent.keyCodeVal = k;

        if (oEvent.keyCode !== k) {
            alert("keyCode mismatch " + oEvent.keyCode + "(" + oEvent.which + ")");
        }

        document.dispatchEvent(oEvent);
    }
    Podium.keydown(49);
}, 2000);



   
   </script>
</body>
</html>